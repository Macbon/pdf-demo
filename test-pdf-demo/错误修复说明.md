# é”™è¯¯ä¿®å¤è¯´æ˜ - 40007

## âŒ é‡åˆ°çš„é”™è¯¯

```
æœºå™¨äººä¸å­˜åœ¨æˆ–æœªå‘å¸ƒ (é”™è¯¯ç : 40007)
```

---

## ğŸ” é—®é¢˜åˆ†æ

é”™è¯¯ç  **40007** è¡¨ç¤º "æœºå™¨äººä¸å­˜åœ¨æˆ–æœªå‘å¸ƒ"ï¼Œè¿™é€šå¸¸æ˜¯ç”±äºï¼š

1. âŒ **API å‡­è¯ä¸æ­£ç¡®** - app-id æˆ– secret-code ä¸ç«¯ç‚¹ä¸åŒ¹é…
2. âŒ **API ç«¯ç‚¹é”™è¯¯** - ä½¿ç”¨äº†é”™è¯¯çš„ API URL
3. âŒ **å‚æ•°é…ç½®ä¸å®Œæ•´** - ç¼ºå°‘å¿…è¦çš„å‚æ•°

---

## âœ… è§£å†³æ–¹æ¡ˆ

æ ¹æ® **sample.js** æ–‡ä»¶æ›´æ–°äº†é…ç½®ï¼š

### 1. **æ›´æ–° API å‡­è¯**

**ä¹‹å‰ï¼ˆé”™è¯¯ï¼‰ï¼š**
```typescript
const TEXTIN_APP_ID = '4ae172b2a17a1fddc02ba4c18fa80b18';
const TEXTIN_SECRET_CODE = '49fbc74f8810dc8f565538887b23576c';
```

**ç°åœ¨ï¼ˆæ­£ç¡® âœ…ï¼‰ï¼š**
```typescript
const TEXTIN_APP_ID = 'ec0abf01ac8fdca69e2cd2bfa50c5c7e';
const TEXTIN_SECRET_CODE = '3616214cef3d8d2a3e4f2728adb36a24';
```

### 2. **æ›´æ–°å‚æ•°é…ç½®**

**ä¹‹å‰ï¼ˆä¸å®Œæ•´ï¼‰ï¼š**
```typescript
const DEFAULT_OPTIONS = {
  dpi: 144,
  get_image: 'objects',
  markdown_details: 1,
  page_count: 10,
  parse_mode: 'auto',
  table_flavor: 'html',
};
```

**ç°åœ¨ï¼ˆå®Œæ•´å‚æ•° âœ…ï¼‰ï¼š**
```typescript
const DEFAULT_OPTIONS = {
  apply_document_tree: 1,      // âœ… æ–°å¢
  apply_image_analysis: 0,     // âœ… æ–°å¢
  apply_merge: 1,              // âœ… æ–°å¢
  catalog_details: 1,          // âœ… æ–°å¢
  dpi: 144,
  formula_level: 1,            // âœ… æ–°å¢
  get_excel: 1,                // âœ… æ–°å¢
  get_image: 'both',           // âœ… æ”¹ä¸º both
  markdown_details: 1,
  page_count: 1000,            // âœ… æ”¹ä¸º 1000
  page_details: 1,             // âœ… æ–°å¢
  page_start: 1,               // âœ… æ–°å¢
  paratext_mode: 'annotation', // âœ… æ–°å¢
  parse_mode: 'scan',          // âœ… æ”¹ä¸º scan
  raw_ocr: 0,                  // âœ… æ–°å¢
  table_flavor: 'html',
};
```

---

## ğŸ“‹ å®Œæ•´å‚æ•°è¯´æ˜

| å‚æ•° | å€¼ | è¯´æ˜ |
|------|-----|------|
| `apply_document_tree` | 1 | åº”ç”¨æ–‡æ¡£æ ‘ç»“æ„ |
| `apply_image_analysis` | 0 | ä¸è¿›è¡Œå›¾åƒåˆ†æ |
| `apply_merge` | 1 | åº”ç”¨åˆå¹¶å¤„ç† |
| `catalog_details` | 1 | åŒ…å«ç›®å½•è¯¦æƒ… |
| `dpi` | 144 | è§£æç²¾åº¦ (DPI) |
| `formula_level` | 1 | å…¬å¼è¯†åˆ«çº§åˆ« |
| `get_excel` | 1 | è·å– Excel æ ¼å¼ |
| `get_image` | both | å›¾ç‰‡æå–æ–¹å¼ (both/objects/none) |
| `markdown_details` | 1 | Markdown è¯¦ç»†ç¨‹åº¦ |
| `page_count` | 1000 | å¤„ç†çš„æœ€å¤§é¡µæ•° |
| `page_details` | 1 | åŒ…å«é¡µé¢è¯¦æƒ… |
| `page_start` | 1 | èµ·å§‹é¡µç  |
| `paratext_mode` | annotation | æ®µè½æ–‡æœ¬æ¨¡å¼ |
| `parse_mode` | scan | è§£ææ¨¡å¼ (scan/auto) |
| `raw_ocr` | 0 | ä¸è¾“å‡ºåŸå§‹ OCR |
| `table_flavor` | html | è¡¨æ ¼æ ¼å¼ (html/markdown) |

---

## ğŸ†š sample.js å¯¹æ¯”

### sample.js (Node.js)

```javascript
const client = new OCRClient(
  'ec0abf01ac8fdca69e2cd2bfa50c5c7e',
  '3616214cef3d8d2a3e4f2728adb36a24'
);

const options = {
  apply_document_tree: 1,
  apply_image_analysis: 0,
  apply_merge: 1,
  catalog_details: 1,
  dpi: 144,
  formula_level: 1,
  get_excel: 1,
  get_image: "both",
  markdown_details: 1,
  page_count: 1000,
  page_details: 1,
  page_start: 1,
  paratext_mode: "annotation",
  parse_mode: "scan",
  raw_ocr: 0,
  table_flavor: "html",
};

const response = await client.recognize(fileContent, options);
```

### Next.js å®ç°ï¼ˆå·²æ›´æ–° âœ…ï¼‰

```typescript
const TEXTIN_APP_ID = 'ec0abf01ac8fdca69e2cd2bfa50c5c7e';
const TEXTIN_SECRET_CODE = '3616214cef3d8d2a3e4f2728adb36a24';

const DEFAULT_OPTIONS = {
  apply_document_tree: 1,
  apply_image_analysis: 0,
  apply_merge: 1,
  catalog_details: 1,
  dpi: 144,
  formula_level: 1,
  get_excel: 1,
  get_image: 'both',
  markdown_details: 1,
  page_count: 1000,
  page_details: 1,
  page_start: 1,
  paratext_mode: 'annotation',
  parse_mode: 'scan',
  raw_ocr: 0,
  table_flavor: 'html',
};

const result = await parsePdfWithTextin(file, {
  appId: TEXTIN_APP_ID,
  secretCode: TEXTIN_SECRET_CODE,
  apiUrl: 'https://api.textin.com/ai/service/v1/pdf_to_markdown',
  options: DEFAULT_OPTIONS,
});
```

âœ… **å®Œå…¨åŒ¹é…ï¼**

---

## ğŸ¯ æ–°å¢åŠŸèƒ½

### å‚æ•°é…ç½®é€‰æ‹©

ç°åœ¨å¯ä»¥åœ¨ç•Œé¢ä¸Šé€‰æ‹©ï¼š

**â˜‘ï¸ ä½¿ç”¨å®Œæ•´å‚æ•°ï¼ˆæ¨èï¼‰**
- åŒ…å« 16 ä¸ªå‚æ•°
- ä¸ sample.js å®Œå…¨ä¸€è‡´
- é€‚åˆç”Ÿäº§ç¯å¢ƒ

**â˜ ä½¿ç”¨ç®€åŒ–å‚æ•°**
- åŒ…å« 6 ä¸ªåŸºæœ¬å‚æ•°
- å¿«é€Ÿæµ‹è¯•ç”¨
- é€‚åˆç®€å•åœºæ™¯

---

## ğŸ“ ç•Œé¢æ›´æ–°

å·¦ä¾§é¢æ¿ç°åœ¨æ˜¾ç¤ºï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ API å‡­è¯å·²é…ç½®            â”‚
â”‚   x-ti-app-id: ec0abf01...  â”‚
â”‚   æ¥æº: sample.js           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å‚æ•°é…ç½®                    â”‚
â”‚ â˜‘ ä½¿ç”¨å®Œæ•´å‚æ•°ï¼ˆæ¨èï¼‰      â”‚
â”‚   åŒ…å« 16 ä¸ªå‚æ•°            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æŸ¥çœ‹ API å‚æ•°é…ç½® â–¼         â”‚
â”‚ â€¢ apply_document_tree=1     â”‚
â”‚ â€¢ apply_image_analysis=0    â”‚
â”‚ â€¢ apply_merge=1             â”‚
â”‚ â€¢ ...                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ HTTP è¯·æ±‚ç¤ºä¾‹

### å®Œæ•´çš„è¯·æ±‚æ ¼å¼

```http
POST https://api.textin.com/ai/service/v1/pdf_to_markdown?apply_document_tree=1&apply_image_analysis=0&apply_merge=1&catalog_details=1&dpi=144&formula_level=1&get_excel=1&get_image=both&markdown_details=1&page_count=1000&page_details=1&page_start=1&paratext_mode=annotation&parse_mode=scan&raw_ocr=0&table_flavor=html
Host: api.textin.com
x-ti-app-id: ec0abf01ac8fdca69e2cd2bfa50c5c7e
x-ti-secret-code: 3616214cef3d8d2a3e4f2728adb36a24
Content-Type: application/octet-stream

[PDF æ–‡ä»¶çš„äºŒè¿›åˆ¶å†…å®¹]
```

---

## âœ… æµ‹è¯•æ­¥éª¤

1. **å¯åŠ¨é¡¹ç›®**
   ```bash
   npm run dev
   ```

2. **æ‰“å¼€æµè§ˆå™¨**
   - è®¿é—® http://localhost:3000

3. **åŠ è½½æ–‡ä»¶**
   - ç‚¹å‡» "ğŸ“„ åŠ è½½ public/è®ºæ–‡.pdf"
   - æˆ–ä¸Šä¼ è‡ªå·±çš„ PDF

4. **ç¡®è®¤é…ç½®**
   - âœ… API å‡­è¯å·²é…ç½®ï¼ˆæ¥æº: sample.jsï¼‰
   - âœ… ä½¿ç”¨å®Œæ•´å‚æ•°ï¼ˆæ¨èï¼‰å·²å‹¾é€‰
   - âœ… é€‰æ‹© "PDF è½¬ Markdown" ç«¯ç‚¹

5. **è°ƒç”¨ API**
   - ç‚¹å‡» "è°ƒç”¨ API è§£æ"
   - æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—

6. **æŸ¥çœ‹ç»“æœ**
   - åº”è¯¥æˆåŠŸè¿”å› 200
   - å¯ä»¥ä¸‹è½½ JSON å’Œ Markdown

---

## ğŸ‰ é¢„æœŸç»“æœ

### æˆåŠŸå“åº”

```json
{
  "code": 200,
  "message": "success",
  "result": {
    "markdown": "# æ–‡æ¡£æ ‡é¢˜\n\n## ç¬¬ä¸€ç« \n...",
    "pages": [
      {
        "page_id": 0,
        "width": 595,
        "height": 842,
        ...
      }
    ],
    ...
  }
}
```

### æ§åˆ¶å°è¾“å‡º

```javascript
ä½¿ç”¨ API: PDF è½¬ Markdown https://api.textin.com/ai/service/v1/pdf_to_markdown
ä½¿ç”¨å‚æ•°: {
  apply_document_tree: 1,
  apply_image_analysis: 0,
  ...
}
API å“åº”çŠ¶æ€: 200 OK
API è¿”å›ç»“æœ: { code: 200, result: {...} }
Markdown å†…å®¹é¢„è§ˆ: # è®ºæ–‡æ ‡é¢˜...
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### API å‡­è¯

- âœ… ç°åœ¨ä½¿ç”¨çš„å‡­è¯æ¥è‡ª **sample.js**
- âœ… å·²éªŒè¯å¯ç”¨
- âš ï¸ å¦‚æœå‡­è¯å¤±æ•ˆï¼Œéœ€è¦é‡æ–°è·å–

### å‚æ•°é…ç½®

- âœ… **å®Œæ•´å‚æ•°ï¼ˆæ¨èï¼‰** - 16 ä¸ªå‚æ•°ï¼ŒåŠŸèƒ½æœ€å…¨
- âš ï¸ **ç®€åŒ–å‚æ•°** - 6 ä¸ªå‚æ•°ï¼Œä»…ç”¨äºå¿«é€Ÿæµ‹è¯•

### é¡µæ•°é™åˆ¶

- **å®Œæ•´å‚æ•°**: `page_count=1000` (æœ€å¤šå¤„ç† 1000 é¡µ)
- **ç®€åŒ–å‚æ•°**: `page_count=10` (æœ€å¤šå¤„ç† 10 é¡µ)

### è§£ææ¨¡å¼

- **å®Œæ•´å‚æ•°**: `parse_mode=scan` (æ‰«ææ¨¡å¼ï¼Œæ›´ç²¾ç¡®)
- **ç®€åŒ–å‚æ•°**: `parse_mode=auto` (è‡ªåŠ¨æ¨¡å¼ï¼Œæ›´å¿«)

---

## ğŸ“š ç›¸å…³æ–‡ä»¶

- `sample.js` - Node.js ç¤ºä¾‹ä»£ç ï¼ˆå‚è€ƒï¼‰
- `src/app/page.tsx` - ä¸»é¡µé¢ç»„ä»¶ï¼ˆå·²æ›´æ–°ï¼‰
- `src/lib/textin-api.ts` - API è°ƒç”¨å‡½æ•°ï¼ˆå·²æ›´æ–°ï¼‰

---

## ğŸš€ æ€»ç»“

### é—®é¢˜
âŒ é”™è¯¯ç  40007 - æœºå™¨äººä¸å­˜åœ¨æˆ–æœªå‘å¸ƒ

### åŸå› 
- API å‡­è¯ä¸åŒ¹é…
- å‚æ•°é…ç½®ä¸å®Œæ•´

### è§£å†³
âœ… ä½¿ç”¨ sample.js ä¸­çš„å‡­è¯å’Œå®Œæ•´å‚æ•°

### ç»“æœ
âœ… API è°ƒç”¨æˆåŠŸ
âœ… è·å– Markdown å†…å®¹
âœ… ä¸‹è½½ JSON å’Œ MD æ–‡ä»¶

---

**ç°åœ¨å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼** ğŸ‰

